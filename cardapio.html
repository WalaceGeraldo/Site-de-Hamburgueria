<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cardápio The Burguer co. — veja nossos hambúrgueres, acompanhamentos e opções veganas.">
    <title>Cardápio - The Burguer co.</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <a class="skip-link" href="#main">Pular para o conteúdo</a>

    <header class="main-header">
        <div class="container">
            <h1 class="logo">The Burguer co.</h1>
            <button id="nav-toggle" aria-controls="primary-navigation" aria-expanded="false">Menu</button>
            <nav class="main-nav" id="primary-navigation">
                 <ul>
                    <li><a href="index.html">Início</a></li>
                    <li><a href="cardapio.html">Cardápio</a></li>
                    <li id="nav-cadastro"><a href="cadastro.html">Cadastro</a></li>
                    <li id="nav-login"><a href="login.html" class="btn-login">Login</a></li>
                    <li id="nav-account" style="display: none;"><a href="minha-conta.html">Minha Conta</a></li>
                    <li id="nav-user" style="display: none;"><a href="minha-conta.html" id="user-email" style="color: #d9a040; margin-right: 15px;"></a></li>
                    <li id="nav-logout" style="display: none;"><a href="#" id="logout-button" class="btn-logout">Sair</a></li>
                    <li id="nav-cart"><a href="cart.html" class="btn-cart"><img src="imagens/carrinho.png" alt="Carrinho" style="width: 24px; height: 24px; vertical-align: middle;margin-top: 5px;"></a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main" class="cardapio-section">
        <div class="container">
            <h1 class="page-title">Nosso Cardápio</h1>

            <section class="menu-category">
                <h2>Clássicos Irresistíveis</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-classic.png" alt="Hambúrguer clássico" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Classic Burger</h3>
                            <p class="item-description">Pão brioche, 150g de carne, queijo prato, alface, tomate, cebola roxa e maionese da casa.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 25,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Classic Burger ao carrinho" data-name="Classic Burger" data-price="25.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-cheddar.png" alt="Hambúrguer cheddar" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Cheddar Burger</h3>
                            <p class="item-description">Pão australiano, 150g de carne, cheddar cremoso e cebola caramelizada no shoyu.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 28,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Cheddar Burger ao carrinho" data-name="Cheddar Burger" data-price="28.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-bacon.png" alt="Hambúrguer com bacon" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Bacon Supreme</h3>
                            <p class="item-description">Pão brioche, 180g de carne, queijo mussarela, fatias crocantes de bacon, alface americana e molho barbecue.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 32,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Bacon Supreme ao carrinho" data-name="Bacon Supreme" data-price="32.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>

             <section class="menu-category">
                <h2>Especiais da Casa</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-gorgonzola.png" alt="Hambúrguer gorgonzola" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Gorgon Burger</h3>
                            <p class="item-description">Pão de batata, 200g de blend especial, creme de gorgonzola, rúcula e geleia de pimenta.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 35,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Gorgon Burger ao carrinho" data-name="Gorgon Burger" data-price="35.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>
            
            <section class="menu-category">
                <h2>Vegetarianos & Veganos</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-veggie.png" alt="Hambúrguer vegano" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Veggie Burger</h3>
                            <p class="item-description">Pão integral, burger à base de plantas, queijo prato (ou vegano opcional), alface, tomate e maionese verde.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 30,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Veggie Burger ao carrinho" data-name="Veggie Burger" data-price="30.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                     <div class="menu-item">
                            <div class="menu-item-image">
                                <img src="imagens/burger-cogumelo.png" alt="Hambúrguer de shimeji" loading="lazy">
                            </div>
                        <div class="menu-item-details">
                            <h3>Shimeji Burger (Vegano)</h3>
                            <p class="item-description">Pão vegano, cogumelos shimeji salteados no shoyu com cebola roxa, alface e tomate seco.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 33,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Shimeji Burger ao carrinho" data-name="Shimeji Burger (Vegano)" data-price="33.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>
            
            <section class="menu-category">
                <h2>Sobremesas</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                        <div class="menu-item-image">
                            <img src="imagens/sobremesa-brownie.png" alt="Brownie com sorvete" loading="lazy">
                       </div>
                         <div class="menu-item-details">
                            <h3>Brownie com Sorvete</h3>
                            <p class="item-description">Brownie quentinho de chocolate com nozes, servido com uma bola de sorvete de creme e calda de chocolate.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 22,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Brownie com Sorvete ao carrinho" data-name="Brownie com Sorvete" data-price="22.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>

            <section class="menu-category">
                <h2>Acompanhamentos Perfeitos</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                         <div class="menu-item-details no-image">
                            <h3>Batatas Fritas</h3>
                            <p class="item-description">Porção generosa de batatas sequinhas e crocantes.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 15,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Batatas Fritas ao carrinho" data-name="Batatas Fritas" data-price="15.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-details no-image">
                            <h3>Onion Rings</h3>
                            <p class="item-description">Anéis de cebola empanados e fritos, acompanha maionese da casa.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 18,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Onion Rings ao carrinho" data-name="Onion Rings" data-price="18.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-details no-image">
                            <h3>Batata Rústica com Alecrim</h3>
                            <p class="item-description">Batatas cortadas em gomos, assadas com azeite e alecrim fresco.</p>
                            <div class="price-container">
                                <p class="item-price">R$ 17,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Batata Rústica com Alecrim ao carrinho" data-name="Batata Rústica com Alecrim" data-price="17.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
            </section>
             
            <section class="menu-category">
                <h2>Bebidas</h2>
                <div class="menu-items-list">
                    <div class="menu-item">
                         <div class="menu-item-details no-image">
                            <h3>Refrigerante Lata</h3>
                            <p class="item-description">Coca-Cola, Guaraná Antarctica, Fanta Laranja, Sprite (350ml).</p>
                            <div class="price-container">
                                <p class="item-price">R$ 6,00</p>
                                <button type="button" class="btn-add-plus" aria-label="Adicionar Refrigerante Lata ao carrinho" data-name="Refrigerante Lata" data-price="6.00">
                                    +
                                </button>
                            </div>
                        </div>
                    </div>
                     <div class="menu-item">
                        <div class="menu-item-details no-image">
                           <h3>Suco Natural</h3>
                           <p class="item-description">Laranja, Abacaxi com Hortelã, Maracujá (Copo 400ml).</p>
                           <div class="price-container">
                               <p class="item-price">R$ 9,00</p>
                               <button type="button" class="btn-add-plus" aria-label="Adicionar Suco Natural ao carrinho" data-name="Suco Natural" data-price="9.00">
                                   +
                               </button>
                           </div>
                       </div>
                   </div>
                    <div class="menu-item">
                        <div class="menu-item-details no-image">
                           <h3>Milk Shake</h3>
                           <p class="item-description">Chocolate, Morango, Ovomaltine (Copo 400ml).</p>
                           <div class="price-container">
                               <p class="item-price">R$ 18,00</p>
                               <button type="button" class="btn-add-plus" aria-label="Adicionar Milk Shake ao carrinho" data-name="Milk Shake" data-price="18.00">
                                   +
                               </button>
                           </div>
                       </div>
                   </div>
                    <div class="menu-item">
                        <div class="menu-item-details no-image">
                           <h3>Água Mineral</h3>
                           <p class="item-description">Com gás ou sem gás (500ml).</p>
                           <div class="price-container">
                               <p class="item-price">R$ 4,00</p>
                               <button type="button" class="btn-add-plus" aria-label="Adicionar Água Mineral ao carrinho" data-name="Água Mineral" data-price="4.00">
                                   +
                               </button>
                           </div>
                       </div>
                   </div>
                 </div>
            </section>
        </div>
    </main>
    <footer class="main-footer">
        <div class="container">
             <div class="footer-col footer-logo"><h3>THE BURGUER CO.</h3></div>
            <div class="footer-col"><h4>MAPA DO SITE</h4><ul><li><a href="index.html">INÍCIO</a></li><li><a href="cardapio.html">CARDÁPIO</a></li><li><a href="#">QUEM SOMOS</a></li><li><a href="cadastro.html">CADASTRO</a></li></ul></div>
            <div class="footer-col"><h4>SIGA-NOS NAS REDE SOCIAL</h4><div class="social-icons"><a href="#"><img src="imagens/icon-facebook.png" alt="Facebook"></a><a href="#"><img src="imagens/icon-instagram.png" alt="Instagram"></a><a href="#"><img src="imagens/icon-whatsapp.png" alt="WhatsApp"></a></div></div>
            <div class="footer-col"><h4>PEDIDO ONLINE</h4><ul><li><a href="#">IFOOD</a></li><li><a href="#">WHATSAPP</a></li><li><span>LIGAR: (21) 99999-9999</span></li></ul></div>
        </div>
    </footer>

    <script src="auth.js"></script>

    <script>
        (function(){
            const CART_KEY = 'site_cart_v1';
            function loadCart(){ try{ return JSON.parse(localStorage.getItem(CART_KEY)||'[]'); }catch(e){return [];} }
            function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }

            // Toast helper
            function ensureToastContainer(){ let c = document.querySelector('.site-toast-container'); if(!c){ c = document.createElement('div'); c.className = 'site-toast-container'; document.body.appendChild(c); } return c; }
            function showToast(text, opts = {}){
                const container = ensureToastContainer();
                const toast = document.createElement('div');
                toast.className = 'site-toast small' + (opts.type ? ' ' + opts.type : '');
                toast.textContent = text;
                container.appendChild(toast);
                // Force reflow then show
                requestAnimationFrame(()=> toast.classList.add('show'));
                setTimeout(()=>{ toast.classList.remove('show'); setTimeout(()=> toast.remove(), 300); }, opts.duration || 2200);
            }

            function addItem(item){
                const c = loadCart();
                const existing = c.find(i=>i.name===item.name);
                if(existing){ existing.qty = (existing.qty||0) + 1; } // Sempre adiciona 1 por clique
                else { item.qty = 1; c.push(item); }
                saveCart(c);
                
                // Trigger update for other tabs and header
                try{ localStorage.setItem('site_cart_updated_at', Date.now().toString()); }catch(e){}
                
                // Atualiza contador no mesmo contexto (chama a função do script abaixo)
                if (window.updateCartCount) try{ window.updateCartCount(); }catch(e){} 
                
                showToast(item.name + ' adicionado ao carrinho', { type: 'success', duration: 2200 });
            }

            // Delegate click on add buttons with "fly to cart" animation
            document.addEventListener('click', (e)=>{
                const btn = e.target.closest('.add-to-cart, .btn-add-plus');
                if (!btn) return;
                
                const name = btn.dataset.name;
                const price = parseFloat(btn.dataset.price)||0;

                // pequeno feedback no botão
                btn.setAttribute('aria-pressed','true');
                btn.style.transform = 'translateY(-2px)';
                setTimeout(()=>{ btn.removeAttribute('aria-pressed'); btn.style.transform = ''; }, 220);

                const menuItem = btn.closest('.menu-item');
                const srcImg = menuItem ? menuItem.querySelector('img') : null;
                const cartAnchor = document.querySelector('#nav-cart a');

                function doAdd(){ addItem({ name, price }); } // qty é definido dentro de addItem

                if (srcImg && cartAnchor){
                    const rect = srcImg.getBoundingClientRect();
                    const clone = srcImg.cloneNode(true);
                    clone.className = 'fly-img';
                    // set initial position
                    clone.style.left = rect.left + 'px';
                    clone.style.top = rect.top + 'px';
                    clone.style.width = rect.width + 'px';
                    clone.style.height = rect.height + 'px';
                    clone.style.transform = 'translate(0,0) scale(1)';
                    document.body.appendChild(clone);

                    // compute target (center of cart link)
                    const targetRect = cartAnchor.getBoundingClientRect();
                    const targetX = targetRect.left + targetRect.width/2 - rect.left - rect.width/2;
                    const targetY = targetRect.top + targetRect.height/2 - rect.top - rect.height/2;

                    // start animation
                    requestAnimationFrame(()=>{
                        clone.style.transform = `translate(${targetX}px, ${targetY}px) scale(0.25)`;
                        clone.style.opacity = '0.35';
                    });

                    clone.addEventListener('transitionend', ()=>{ try{ clone.remove(); }catch(e){} doAdd(); }, { once: true });

                    // safety fallback: remove if still present after 1s
                    setTimeout(()=>{ if(document.body.contains(clone)) { clone.remove(); doAdd(); } }, 1200);
                } else {
                    doAdd();
                }
            });
        })();
    </script>

    <script>
        (function(){
            function updateCart(){
                try{
                    const cart = JSON.parse(localStorage.getItem('site_cart_v1')||'[]');
                    const c = cart.reduce((s,i)=>s+(i.qty||0),0);
                    const el = document.getElementById('cart-count');
                    if(el) el.textContent = c;
                }catch(e){ /* ignore */ }
            }
            // expõe para outros scripts no mesmo documento
            window.updateCartCount = updateCart;
            updateCart();
            window.addEventListener('storage', updateCart);
            document.addEventListener('DOMContentLoaded', updateCart);
        })();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navToggle = document.getElementById('nav-toggle');
            const primaryNav = document.getElementById('primary-navigation');
            if (navToggle && primaryNav) {
                navToggle.addEventListener('click', () => {
                    const expanded = navToggle.getAttribute('aria-expanded') === 'true' || false;
                    navToggle.setAttribute('aria-expanded', !expanded);
                    primaryNav.classList.toggle('open');
                });
            }
        });
    </script>
</body>
</html>